\section{Частични наредби}
\index{частична наредба}

Бинарната релация $\sqsubseteq$ върху множеството $A$ се нарича {\bf частична наредба}, ако тя е:
\marginpar{На англ. \emph{partial order}}
\begin{itemize}
\item 
  рефлексивна, т.е. $(\forall a \in A)[a \sqsubseteq a]$;
\item
  транзитивна, т.е. $(\forall a,b,c \in A)[a \sqsubseteq b\ \&\ b \sqsubseteq c \implies a \sqsubseteq c]$;
\item
  антисиметрична, т.е. $(\forall a,b \in A)[a \sqsubseteq b\ \&\ b \sqsubseteq a  \implies a = b]$.
\end{itemize}
Една такава двойка $(A, \sqsubseteq)$ се нарича частично наредено множество.

\begin{example}
  Да означим 
  \[\F_n \df \{f:\Nat^n\to\Nat \mid f\text{ е частична функция}\}.\]
  \marginpar{Често вместо $x_1,\dots,x_n$ ще пишем просто $\ov{x}$.}
  Дефинираме и релацията {\bf включване } между две частични функции по следния начин:
  \begin{align*}
    f \subseteq g \dfff (\forall \ov{x}\in \Nat^n)[& f(\ov{x})\text{ не е деф.}\ \vee\\
                                            & (f(\ov{x})\text{ е деф.}\ \&\ g(\ov{x})\text{ е деф.}\ \&\ f(\ov{x}) = g(\ov{x}))].
  \end{align*}
  Да дефинираме също {\bf графиката} на частичната функция $f$ като
  \[\Graph{f} \df \{\pair{\ov{x},y} \mid f(\ov{x}) = y\}.\]
  Тогава лесно се съобразява, че 
  \[f \subseteq g \iff \Graph{f} \subseteq \Graph{g}.\]
  Съобразете, че двойката $(\Partial{\Nat}{\Nat}, \subseteq)$ е частично наредено множество.
\end{example}

\marginpar{Обърнете внимание, че има и понятие \emph{минимален} елемент, което в общия случай е различно от понятието \emph{най-малък} елемент. Един елемент $a_0$ е минимален за множеството $A$, ако $\neg(\exists a \in A)[a \sqsubseteq a_0\ \&\ a \neq a_0]$. Съобразете, че е възможно едно частично наредено множество да притежава повече от един минимални елементи.}
Казваме, че $a_0$ е {\bf най-малък елемент} на частично нареденото множество $(A, \sqsubseteq)$,
ако $(\forall a \in A)[a_0 \sqsubseteq a]$. Ако такъв елемент съществува, то той е единствен,
защото релацията $\sqsubseteq$ е антисиметрична.
% {\bf Неподвижна точка} на $f:A \to A$ е елемент $a \in A$, такъв че $f(a) = a$.
За по-кратко монотонно-растящите редици от елементи на $A$,
\[a_0 \sqsubseteq a_1 \sqsubseteq \cdots \sqsubseteq a_n \sqsubseteq \cdots,\]
ще наричаме (растящи) {\bf вериги}. 

Един елемент $b$ е {\bf горна граница} на веригата $\chain{a}{n}$, ако 
$(\forall n)[a_n \sqsubseteq b]$.
Един елемент $b$ е {\bf точна горна граница} на веригата $\chain{a}{n}$, ако са изпълнени свойствата:
\begin{itemize}
\item 
  $(\forall n)[a_n \sqsubseteq b]$, т.е. $b$ е горна граница;
\item
  за всяка друга горна граница $c$ е изпълнено, че $b \sqsubseteq c$, т.е.
  $b$ е най-малкият елемент измежду всички горни граници на веригата $\chain{a}{n}$.
\end{itemize}
Не всяка верига притежава точна горна граница.
Обикновено точната горна граница на вергата $\chain{a}{n}$ ще бележим като $\bigsqcup_n a_n$.

\Stefan{Още тук да се даде пример за верига от частични функции и две функции - една, която е точна горна граница на веригата и една, която е просто горна граница.}


\begin{framed}
  \begin{definition}
    Наредена тройка от вида $\A = (A, \sqsubseteq, \bot)$ се нарича {\bf област на Скот}, ако:
    \index{област на Скот}
    \begin{itemize}
    \item
      $\sqsubseteq$ е бинарна релация върху $A$, която задава частична наредба.
    \item
      Всяка растяща верига $\chain{a}{n}$ в $A$ притежава точна горна граница $\bigsqcup_n a_n$.
    \item
      $\bot \in A$ е най-малкият елемент на $A$;
    \end{itemize}
  \end{definition}
\end{framed}

\marginpar{На англ. {\em Scott domain}. Обикновено в литературата, за да се нарече едно частично нареденото множество област на Скот се изискват още допълнителни свойства, но за нашите цели тази дефиниция ще свърши работа.}

Интуицията зад израза $a \sqsubseteq b$ е, че $b$ носи повече информация от $a$, без да противоречи на $a$. Елементът $\bot$ означава липса на информация.

\begin{example}
  Тройката $\Partial{\Nat^n}{\Nat} \df (\ \F_n,\ \subseteq,\ \bm{\emptyset}^{(n)}\ )$ е област на Скот, където:
  \begin{itemize}
  \item
    С $\F_n$ означаваме всички частични функции от $\Nat^n$ в $\Nat$.
  \item
     релацията ,,включване'' между функции е дефинирана по следния начин:
     \[f\subseteq g\ \dffff\ \text{Graph}(f) \subseteq \text{Graph}(g).\]
   \item
     $\bm{\emptyset}^{(n)}$ е функцията с празна дефиниционна област, т.е. $\Dom(\bm{\emptyset}^{(n)}) = \emptyset$.
  \end{itemize}
\end{example}

\marginpar{В хаскел $\bot$ се означава като \vv{undefined}. Повече за денотационна семантика в хаскел може да прочетете \href{https://en.wikibooks.org/wiki/Haskell/Denotational_semantics}{тук}.}

\begin{example}
  Да разгледаме няколко примера, които вече сме срещали.
  \begin{itemize}
  \item
    $(\Ps(\Nat),\subseteq,\emptyset)$ е област на Скот.
  \item
    $(\Nat, \leq, 0)$ не е е област на Скот.
  \item
    $(\Nat\cup\{\infty\}, \leq, 0)$ е област на Скот, където наредбата $\leq$ е зададена като
    \[0 \leq 1 \leq \cdots \leq \infty.\]
  \item
    $(\{0,1\}^\star, \preceq, \varepsilon)$ не е област на Скот, където $\preceq$ е релацията префикс на две думи.
  \end{itemize}
\end{example}

\begin{example}
  Да разгледаме множеството 
  \[Bin^\infty = \{\sigma \mid \sigma :\{0,1,2,\dots,n-1\} \to \{0,1\}\ \&\ n \in \Nat\} \cup 
  \{f \mid f:\Nat \to \{0,1\}\}\]
  съставено от всички крайни и безкрайни двоични низове.
  \begin{itemize}
  \item
    Да разгледаме релацията
    \[\sigma \preceq \tau \iff \abs{\sigma} \leq \abs{\tau}\ \&\ (\forall i < |\sigma|)[\sigma(i) = \tau(i)],\]
    т.е. $\sigma$ е префикс на $\tau$.    
  \item
    Да означим с $\varepsilon$ единствения двоичен низ с дължина $0$. С други думи, $\varepsilon$ е празната функция.
  \end{itemize}
  Тогава $Bin^\infty = (Bin^\infty,\preceq,\varepsilon)$ е област на Скот.
\end{example}

\marginpar{Тези две свойства ще се окажат полезни по-нататък.}
\begin{problem}
  Нека $\chain{a}{i}$ и $\chain{b}{i}$ са вериги в областта на Скот $\A$, за които е изпълнено, че
  $a_i \sqsubseteq b_i$ за всяко $i$.
  Докажете, че $\bigsqcup_i a_i \sqsubseteq \bigsqcup_i b_i$.
\end{problem}

\begin{problem}
  Нека $\chain{a}{i}$ е верига в областта на Скот $\A$ и нека $k$ е естествено число.
  Докажете, че $\bigsqcup_i a_i = \bigsqcup_i a_{i+k}$.
\end{problem}

\begin{problem}
  \marginpar{Езикът $\{a^nb^n\mid n\in\Nat\}$ може да се представи като обединение на безкрайна верига от крайни езици.}
  Нека $\Sigma$ е азбука. Да разгледаме тройката $\mathcal{R} = (Reg, \subseteq, \emptyset)$, където $Reg$ е съвкупността от всички регулярни езици над $\Sigma$.
  Вярно ли е, че $\mathcal{R}$ е област на Скот ?
\end{problem}

\begin{problem}
  Нека $\mathcal{P} = (P, \preceq)$ да бъде частична наредба.
  Да дефинираме частичната наредба $\mathcal{C} = (\texttt{Chain}(P), \sqsubseteq)$, където:
  \begin{itemize}
  \item
    $\texttt{Chain}(P) = \{\ov{x} \mid \ov{x} = \chain{x}{i} \text{ е верига в }P\}$;
  \item
    $\ov{x} \sqsubseteq \ov{x}' \iff (\forall i)[\ x_i \preceq x'_i\ ]$ 
  \end{itemize}
  Докажете, че ако $\mathcal{P}$ формира област на Скот, то
  $\mathcal{C}$ също формира област на Скот.
\end{problem}



%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../sep"
%%% End:
