\section{Изображения в области на Скот}

\index{област на Скот!изображения}
Нека $\A_i = (A_i,\sqsubseteq_i,\bot_i)$, за $i = 1,2$, са области на Скот.
Ще въведем няколко основни вида изображения между $\A_1$ и $\A_2$, 
които ще използваме често. След това ще разгледаме някои свойства на тези изображения
и ще видим каква е връзката между тях.
\begin{itemize}
\item
  Всяка тотална функция от вида $f:A_1 \to A_2$ ще наричаме изображение между областите на Скот $\A_1$ и $\A_2$
  и ще записваме $f:\A_1 \to \A_2$.
  Да въведем означението 
  \[\Mapping{\A_1}{\A_2} \dff \{f \mid f:\A_1 \to \A_2\}.\]
\item
  Да въведем следната релация между изображенията $f,g:\A_1 \to \A_2$:
  \[f \sqsubseteq g \dfff (\forall a \in \A_1)[f(a) \sqsubseteq_2 g(a)].\]
\item
  Да дефинираме изображението $\bm{\bot}:\A_1 \to \A_2$ като
  \[(\forall a \in \A_1)[\bm{\bot}(a) = \bot_2].\]
\end{itemize}

  \begin{haskellcode}
ghci> let bottom _ = undefined
  \end{haskellcode}

\begin{framed}
  \begin{thm}
    \label{th:all-mappings-is-domain}
    Наредената тройка $(\Mapping{\A_1}{\A_2}, \sqsubseteq, \bm{\bot})$ е област на Скот.
  \end{thm}  
\end{framed}
\begin{proof}
  Нетривиалната част в доказателството е да проверим, че всяка верига $(f_i)^{\infty}_{i=0}$ в $\Mapping{\A_1}{\A_2}$
  притежава точна горна граница.
  \marginpar{За по-кратко пишем $\bar{a}$ вместо $a_1,\dots,a_n$}
  Да разгледаме изображението $h:\A_1 \to \A_2$, където:
  \begin{equation}
    \label{eq:9}
    h(a) \dff \bigsqcup \{f_i(a) \mid i \in \Nat\}.
  \end{equation}
  Ще докажем, че $h$ е тази точна горна граница.
  \begin{itemize}
  \item
    \marginpar{Това задължително трябва да се провери,
      защото например множеството $\{\bot, 0, 3\}$ няма точна горна граница относно плоската наредба в $\Nat_\bot$}
    Първо, трябва да се убедим, че дефиницията на $h$ е ,,смислена'', т.е. $h$ е тотална функция.
    Трябва да докажем, че за всяко $a\in \A_1$,
    \[\bigsqcup\{f_i(a) \mid i \in \Nat\}\] съществува.
    Да фиксираме произволен елемент $a \in \A_1$.
    Получаваме следната верига в $\A_2$:
    \[f_0(a) \sqsubseteq f_1(a) \sqsubseteq f_2(a) \sqsubseteq \cdots \]
    Понеже $\A_2$ е област на Скот, то тази верига притежава точна горна граница в $\A_2$,
    която означачаваме като $\bigsqcup\{f_i(a) \mid i \in \Nat\}$.
    Това означава, че $h(a)$ е тотална функция.
  \item
    Дотук имаме, че $h \in \Mapping{\A_1}{\A_2}$.
    Лесно се съобразява, че $h$ е горна граница на веригата $\chain{f}{i}$, защото за всяки елемент $a \in \A_1$
    и произволен индекс $i$,
    \[f_i(a) \sqsubseteq \bigsqcup\{f_i(a) | i \in \Nat\} \dff h(a).\]
  \item
    Сега остава да проверим, че $h$ е точна горна граница, т.е. $h$ е най-малката измежду всички горни граници на 
    веригата $\chain{f}{i}$.
    Нека $g$ е друга горна граница на $\chain{f}{i}$. Това означава, че за всеки индекс $i$,
    $f_i \sqsubseteq g$. Следователно, за фиксирано $a \in \A_1$,
    $g(a)$ е горна граница за веригата $(f_i(a))^{\infty}_{i=0}$.
    Тогава е ясно, че за разглеждания елемент $a$,
    \[h(a) \dff \bigsqcup\{f_i(a) \mid i\in\Nat\} \sqsubseteq g(a).\]
    Понеже елементът $a$ е прозиволен, получаваме, че $h \sqsubseteq g$.
  \item
    Доказахме, че $h$ е горна граница и че $h$ е най-малката измежду всички горни граници.
    Заключваме, че $h$ е {\em точна горна граница} на веригата $\chain{f}{i}$.
    \marginpar{Получаваме, че \[(\bigsqcup_if_i)(a) = \bigsqcup_i\{f_i(a)\}.\]}
    С други думи,
    \[h = \bigsqcup_i f_i.\]
  \end{itemize}
\end{proof}

\begin{cor}
  $(\Mapping{\Nat^n_\bot}{\Nat_\bot},\sqsubseteq, \bm{\bot}^{(n)})$ е област на Скот,
  където $\bm{\bot}^{(n)}(\bar{a}) = \bot$, за всяко $\bar{a} \in \Nat^n_\bot$.
\end{cor}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../sep"
%%% End:
